# üöÄ HabitFlow API

**API –¥–ª—è —Ç—Ä–µ–∫–µ—Ä–∞ –ø–æ–ª–µ–∑–Ω—ã—Ö –ø—Ä–∏–≤—ã—á–µ–∫** –ø–æ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ Atomic Habits (–î–∂–µ–π–º—Å –ö–ª–∏—Ä)

## üìã –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (JWT)
- ‚úÖ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø—Ä–∏–≤—ã—á–∫–∞–º–∏
- ‚úÖ –ü–∞–≥–∏–Ω–∞—Ü–∏—è (5 –ø—Ä–∏–≤—ã—á–µ–∫ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É)
- ‚úÖ –ü—É–±–ª–∏—á–Ω—ã–µ/–ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø—Ä–∏–≤—ã—á–∫–∏
- ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º Atomic Habits
- ‚úÖ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ –ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
HabitFlow-API/
‚îú‚îÄ‚îÄ habits/ # –ü—Ä–∏–≤—ã—á–∫–∏ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ users/ # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –ø—Ä–æ—Ñ–∏–ª–∏
‚îî‚îÄ‚îÄ habitflow/ # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

text

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone <repository-url>
cd HabitFlow-API

# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python -m venv venv
venv\Scripts\activate  # Windows
# source venv/bin/activate  # Linux/Mac

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
python manage.py migrate

# –°–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
python manage.py createsuperuser

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
python manage.py runserver
2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
python manage.py test habits.tests

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
black --check .
flake8 .
üì° API Endpoints
üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
POST /api/users/register/ - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è

POST /api/users/token/ - –ü–æ–ª—É—á–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–∞

POST /api/users/token/refresh/ - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞

POST /api/users/logout/ - –í—ã—Ö–æ–¥

GET /api/users/profile/ - –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

üìù –ü—Ä–∏–≤—ã—á–∫–∏
GET /api/habits/ - –°–ø–∏—Å–æ–∫ –ø—Ä–∏–≤—ã—á–µ–∫ (–ø–∞–≥–∏–Ω–∞—Ü–∏—è 5 –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É)

GET /api/habits/my_habits/ - –¢–æ–ª—å–∫–æ –º–æ–∏ –ø—Ä–∏–≤—ã—á–∫–∏

GET /api/habits/public/ - –ü—É–±–ª–∏—á–Ω—ã–µ –ø—Ä–∏–≤—ã—á–∫–∏

POST /api/habits/ - –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–≤—ã—á–∫—É

GET /api/habits/{id}/ - –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–∏–≤—ã—á–∫—É

PUT /api/habits/{id}/ - –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–≤—ã—á–∫—É

PATCH /api/habits/{id}/ - –ß–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

DELETE /api/habits/{id}/ - –£–¥–∞–ª–∏—Ç—å –ø—Ä–∏–≤—ã—á–∫—É

POST /api/habits/{id}/complete/ - –û—Ç–º–µ—Ç–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

PATCH /api/habits/{id}/toggle_public/ - –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –ø—É–±–ª–∏—á–Ω–æ—Å—Ç—å

‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–∏—è
GET /api/completions/ - –°–ø–∏—Å–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–π

POST /api/completions/ - –°–æ–∑–¥–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

DELETE /api/completions/{id}/ - –£–¥–∞–ª–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

üîí –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
–í–ª–∞–¥–µ–ª–µ—Ü –ø—Ä–∏–≤—ã—á–∫–∏: –ü–æ–ª–Ω—ã–π CRUD –¥–æ—Å—Ç—É–ø

–î—Ä—É–≥–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏: –¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ –ø—É–±–ª–∏—á–Ω—ã—Ö –ø—Ä–∏–≤—ã—á–µ–∫

–ù–µ–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ: –¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ –ø—É–±–ª–∏—á–Ω—ã—Ö –ø—Ä–∏–≤—ã—á–µ–∫

üìä –ü—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
‚è±Ô∏è –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è ‚â§ 120 —Å–µ–∫—É–Ω–¥

‚ùå –ù–µ–ª—å–∑—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —É–∫–∞–∑–∞—Ç—å –∏ —Å–≤—è–∑–∞–Ω–Ω—É—é –ø—Ä–∏–≤—ã—á–∫—É –∏ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ

üòä –°–≤—è–∑–∞–Ω–Ω—ã–µ –ø—Ä–∏–≤—ã—á–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–∏—è—Ç–Ω—ã–º–∏

üéØ –£ –ø—Ä–∏—è—Ç–Ω–æ–π –ø—Ä–∏–≤—ã—á–∫–∏ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è –∏–ª–∏ —Å–≤—è–∑–∞–Ω–Ω–æ–π –ø—Ä–∏–≤—ã—á–∫–∏

üìÖ –ù–µ–ª—å–∑—è –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø—Ä–∏–≤—ã—á–∫—É —Ä–µ–∂–µ 1 —Ä–∞–∑–∞ –≤ 7 –¥–Ω–µ–π

‚è∞ –ù–µ–ª—å–∑—è –Ω–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø—Ä–∏–≤—ã—á–∫—É –±–æ–ª–µ–µ 7 –¥–Ω–µ–π

üß™ –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤
–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
bash
curl -X POST http://localhost:8000/api/users/register/ \
  -H "Content-Type: application/json" \
  -d '{
    "username": "user",
    "email": "user@example.com",
    "password": "password123",
    "password2": "password123"
  }'
–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏
bash
curl -X POST http://localhost:8000/api/habits/ \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "place": "–î–æ–º",
    "time": "08:00",
    "action": "–ü–∏—Ç—å —Å—Ç–∞–∫–∞–Ω –≤–æ–¥—ã",
    "duration": 60,
    "frequency": "daily",
    "is_public": true
  }'
–ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–∏–≤—ã—á–µ–∫ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
bash
curl -X GET "http://localhost:8000/api/habits/?page=2&page_size=3" \
  -H "Authorization: Bearer YOUR_TOKEN"
üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
Swagger UI: http://localhost:8000/swagger/

ReDoc: http://localhost:8000/redoc/

–ê–¥–º–∏–Ω–∫–∞ Django: http://localhost:8000/admin/

üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
Python 3.10+

Django 4.2+

Django REST Framework

JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

PostgreSQL/SQLite

Swagger/ReDoc

üë• –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
bash
pip install -r requirements-dev.txt
pre-commit install
Code Quality
bash
black .          # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
isort .          # –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤
flake8 .         # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∏–ª—è
mypy .           # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è
MIT License

HabitFlow API ¬© 2024. –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è —Ç—Ä–µ–∫–∏–Ω–≥–∞ –ø–æ–ª–µ–∑–Ω—ã—Ö –ø—Ä–∏–≤—ã—á–µ–∫.

text

## 6. –§–∏–Ω–∞–ª—å–Ω—ã–π –∫–æ–º–º–∏—Ç:

```bash
# –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –≤–µ—Å—å –∫–æ–¥
black .
isort .

# –î–æ–±–∞–≤–ª—è–µ–º README
git add README.md

# –§–∏–Ω–∞–ª—å–Ω—ã–π –∫–æ–º–º–∏—Ç
git add .
git commit -m "‚úÖ –ü—Ä–æ–µ–∫—Ç –∑–∞–≤–µ—Ä—à–µ–Ω: HabitFlow API —Å –ø–æ–ª–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤, –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π, –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π"

# –°–º–æ—Ç—Ä–∏–º –∏—Å—Ç–æ—Ä–∏—é –∫–æ–º–º–∏—Ç–æ–≤
git log --oneline -10
üéØ –ò—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã:

‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (/api/users/register/)

‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (/api/users/token/)

‚úÖ –°–ø–∏—Å–æ–∫ –ø—Ä–∏–≤—ã—á–µ–∫ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π (/api/habits/my_habits/)

‚úÖ –°–ø–∏—Å–æ–∫ –ø—É–±–ª–∏—á–Ω—ã—Ö –ø—Ä–∏–≤—ã—á–µ–∫ (/api/habits/public/)

‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏ (POST /api/habits/)

‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏ (PUT/PATCH /api/habits/{id}/)

‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏ (DELETE /api/habits/{id}/)

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏—á–∏:

‚úÖ –ü–∞–≥–∏–Ω–∞—Ü–∏—è (5 –ø—Ä–∏–≤—ã—á–µ–∫ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)

‚úÖ –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (CRUD —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–≤–æ–∏—Ö –ø—Ä–∏–≤—ã—á–µ–∫)

‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–æ Atomic Habits

‚úÖ JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

‚úÖ Swagger/ReDoc –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

‚úÖ –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:

‚úÖ –ß–∏—Å—Ç–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (habits, users)

‚úÖ –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

‚úÖ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞ (black, isort, flake8, mypy)

–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ